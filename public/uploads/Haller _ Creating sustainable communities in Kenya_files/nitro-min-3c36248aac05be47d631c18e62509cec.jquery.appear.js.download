(function(n){n.fn.appear=function(r,e){var h=n.extend({data:undefined,one:true,accX:0,accY:0},e);return this.each(function(){var l=n(this);l.appeared=false;if(!r){l.trigger("appear",h.data);return}var u=n(window);var a=function(){if(!l.is(":visible")){l.appeared=false;return}var e=u.scrollLeft();var a=u.scrollTop();var r=l.offset();var n=r.left;var p=r.top;var t=h.accX;var i=h.accY;var f=l.height();var c=u.height();var s=l.width();var o=u.width();if(p+f+i>=a&&p<=a+c+i&&n+s+t>=e&&n<=e+o+t){if(!l.appeared)l.trigger("appear",h.data)}else{l.appeared=false}};var e=function(){l.appeared=true;if(h.one){u.unbind("scroll",a);var e=n.inArray(a,n.fn.appear.checks);if(e>=0)n.fn.appear.checks.splice(e,1)}r.apply(this,arguments)};if(h.one)l.one("appear",h.data,e);else l.bind("appear",h.data,e);u.scroll(a);n.fn.appear.checks.push(a);a()})};n.extend(n.fn.appear,{checks:[],timeout:null,checkAll:function(){var e=n.fn.appear.checks.length;if(e>0)while(e--)n.fn.appear.checks[e]()},run:function(){if(n.fn.appear.timeout)clearTimeout(n.fn.appear.timeout);n.fn.appear.timeout=setTimeout(n.fn.appear.checkAll,20)}});n.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(e,a){var r=n.fn[a];if(r){n.fn[a]=function(){var e=r.apply(this,arguments);n.fn.appear.run();return e}}})})(jQuery);