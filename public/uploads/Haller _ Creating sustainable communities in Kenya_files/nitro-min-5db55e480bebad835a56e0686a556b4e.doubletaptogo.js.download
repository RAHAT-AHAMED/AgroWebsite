(function(r,t,e,a){"use strict";var o="doubleTapToGo",s={automatic:true,selectorClass:"doubletap",selectorChain:"li:has(ul)"};function c(t,e){this.element=t;this.settings=r.extend({},s,e);this._defaults=s;this._name=o;this.init()}r.extend(c.prototype,{preventClick:false,currentTap:r(),init:function(){r(this.element).on("touchstart","."+this.settings.selectorClass,this._tap.bind(this)).on("click","."+this.settings.selectorClass,this._click.bind(this)).on("remove",this._destroy.bind(this));this._addSelectors()},_addSelectors:function(){if(this.settings.automatic!==true){return}r(this.element).find(this.settings.selectorChain).addClass(this.settings.selectorClass)},_click:function(t){if(this.preventClick){t.preventDefault()}else{this.currentTap=r()}},_tap:function(t){var e=r(t.target).closest("li");if(!e.hasClass(this.settings.selectorClass)){this.preventClick=false;return}if(e.get(0)===this.currentTap.get(0)){this.preventClick=false;return}this.preventClick=true;this.currentTap=e;t.stopPropagation()},_destroy:function(){r(this.element).off()},reset:function(){this.currentTap=r()}});r.fn[o]=function(s){var i=arguments,n;if(s===a||typeof s==="object"){return this.each(function(){if(!r.data(this,o)){r.data(this,o,new c(this,s))}})}else if(typeof s==="string"&&s[0]!=="_"&&s!=="init"){this.each(function(){var t=r.data(this,o),e=s==="destroy"?"_destroy":s;if(t instanceof c&&typeof t[e]==="function"){n=t[e].apply(t,Array.prototype.slice.call(i,1))}if(s==="destroy"){r.data(this,o,null)}});return n!==a?n:this}}})(jQuery,window,document);