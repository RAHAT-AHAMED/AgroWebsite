(function(){(function(p){p.easyPieChart=function(t,e){var n,i,a,s,r,o,l,c=this;this.el=t;this.$el=p(t);this.$el.data("easyPieChart",this);this.init=function(){var t;c.options=p.extend({},p.easyPieChart.defaultOptions,e);t=parseInt(c.$el.data("percent"),10);c.percentage=0;c.canvas=p("<canvas width='"+c.options.size+"' height='"+c.options.size+"'></canvas>").get(0);c.$el.append(c.canvas);if(typeof G_vmlCanvasManager!=="undefined"&&G_vmlCanvasManager!==null){G_vmlCanvasManager.initElement(c.canvas)}c.ctx=c.canvas.getContext("2d");if(window.devicePixelRatio>1.5){p(c.canvas).css({width:c.options.size,height:c.options.size});c.canvas.width*=2;c.canvas.height*=2;c.ctx.scale(2,2)}c.ctx.translate(c.options.size/2,c.options.size/2);c.$el.addClass("easyPieChart");c.$el.css({width:c.options.size,height:c.options.size,lineHeight:""+c.options.size+"px"});c.update(t);return c};this.update=function(t){if(c.options.animate===false){return a(t)}else{return i(c.percentage,t)}};o=function(){var t,e,i;c.ctx.fillStyle=c.options.scaleColor;c.ctx.lineWidth=1;i=[];for(t=e=0;e<=24;t=++e){i.push(n(t))}return i};n=function(t){var e;e=t%6===0?0:c.options.size*.017;c.ctx.save();c.ctx.rotate(t*Math.PI/12);c.ctx.fillRect(c.options.size/2-e,0,-c.options.size*.05+e,1);return c.ctx.restore()};l=function(){var t;t=c.options.size/2-c.options.lineWidth/2;if(c.options.scaleColor!==false){t-=c.options.size*.08}c.ctx.beginPath();c.ctx.arc(0,0,t,0,Math.PI*2,true);c.ctx.closePath();c.ctx.strokeStyle=c.options.trackColor;c.ctx.lineWidth=c.options.lineWidth;return c.ctx.stroke()};r=function(){if(c.options.scaleColor!==false){o()}if(c.options.trackColor!==false){return l()}};a=function(t){var e;r();c.ctx.strokeStyle=p.isFunction(c.options.barColor)?c.options.barColor(t):c.options.barColor;c.ctx.lineCap=c.options.lineCap;c.ctx.lineWidth=c.options.lineWidth;e=c.options.size/2-c.options.lineWidth/2;if(c.options.scaleColor!==false){e-=c.options.size*.08}c.ctx.save();c.ctx.rotate(-Math.PI/2);c.ctx.beginPath();c.ctx.arc(0,0,e,0,Math.PI*2*t/100,false);c.ctx.stroke();return c.ctx.restore()};i=function(t,e){var i,n,o;n=30;o=n*c.options.animate/1e3;i=0;c.options.onStart.call(c);c.percentage=e;if(c.animation){clearInterval(c.animation);c.animation=false}return c.animation=setInterval(function(){c.ctx.clearRect(-c.options.size/2,-c.options.size/2,c.options.size,c.options.size);r.call(c);a.call(c,[s(i,t,e-t,o)]);i++;if(i/o>1){clearInterval(c.animation);c.animation=false;return c.options.onStop.call(c)}},1e3/n)};s=function(t,e,i,n){var o,a;o=function(t){return Math.pow(t,2)};a=function(t){if(t<1){return o(t)}else{return 2-o(t/2*-2+2)}};t/=n/2;return i/2*a(t)+e};return this.init()};p.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:false,onStart:p.noop,onStop:p.noop};p.fn.easyPieChart=function(n){return p.each(this,function(t,e){var i;i=p(e);if(!i.data("easyPieChart")){return i.data("easyPieChart",new p.easyPieChart(e,n))}})};return void 0})(jQuery)}).call(this);