(function(o){o.fn.stretch=function(p){p=o.extend({},o.fn.stretch.defaults,p);if(!(p.max>=0)||!(p.min>=0))p.min=p.max=0;this.each(function(){var s=o(this),i=s.find("> .stretch--handle");if(!s.hasClass("stretch--resizer")||!i){i=o(this).wrap("<span class='stretch--handle' />").parent();s=i.wrap("<div class='stretch--resizer' />").parent();i.css("margin","0").css("padding","0");s.css("margin","0").css("padding","0");s.css("white-space","nowrap").css("overflow","hidden")}var e=s.width(),t,a=p.min||1,n=a;if(!p.max){do{a=n;n*=2;s.css("font-size",n+"px");var r=i.width();t=r<=t?e:r}while(t<e)}else{n=p.max;if(a==n)s.css("font-size",n+"px")}if(t==e)return;while(a<n){var c=Math.floor((a+n)/2);s.css("font-size",c+"px");t=i.width();if(t==e)break;if(t<e)a=c+1;else n=c}if(t>e)s.css("font-size",n-1+"px");var h=0,f=i.width(),d=p.maxSpacing;do{h+=1;s.css("word-spacing",h+"px");t=i.width()}while(h<=d&&t<=e&&t>f);s.css("word-spacing",h-1+"px")});return this};o.fn.stretch.defaults={min:0,max:0,maxSpacing:0}})(jQuery);