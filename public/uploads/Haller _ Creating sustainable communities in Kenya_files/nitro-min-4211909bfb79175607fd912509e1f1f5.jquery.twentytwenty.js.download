(function(u){u.fn.twentytwenty=function(h){var h=u.extend({default_offset_pct:.5,orientation:"horizontal"},h);return this.each(function(){var e=h.default_offset_pct;var n=u(this);var a=h.orientation;var t=a==="vertical"?"down":"left";var i=a==="vertical"?"up":"right";n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>");n.append("<div class='twentytwenty-overlay'></div>");var s=n.find("img:first");var r=n.find("img:last");n.append("<div class='twentytwenty-handle'></div>");var d=n.find(".twentytwenty-handle");d.append("<span class='twentytwenty-"+t+"-arrow'></span>");d.append("<span class='twentytwenty-"+i+"-arrow'></span>");n.addClass("twentytwenty-container");s.addClass("twentytwenty-before");r.addClass("twentytwenty-after");var v=n.find(".twentytwenty-overlay");v.append("<div class='twentytwenty-before-label'></div>");v.append("<div class='twentytwenty-after-label'></div>");var w=function(t){var e=s.width();var n=s.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}};var c=function(t){if(a==="vertical"){s.css("clip","rect(0,"+t.w+","+t.ch+",0)")}else{s.css("clip","rect(0,"+t.cw+","+t.h+",0)")}n.css("height",t.h)};var f=function(t){var e=w(t);d.css(a==="vertical"?"top":"left",a==="vertical"?e.ch:e.cw);c(e)};u(window).on("resize.twentytwenty",function(t){f(e)});var o=0;var l=0;var p=0;var y=0;d.on("movestart",function(t){if((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&a!=="vertical"){t.preventDefault()}else if((t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&a==="vertical"){t.preventDefault()}n.addClass("active");o=n.offset().left;l=n.offset().top;p=s.width();y=s.height()});d.on("moveend",function(t){n.removeClass("active")});d.on("move",function(t){if(n.hasClass("active")){e=a==="vertical"?(t.pageY-l)/y:(t.pageX-o)/p;if(e<0){e=0}if(e>1){e=1}f(e)}});n.find("img").on("mousedown",function(t){t.preventDefault()});u(window).trigger("resize.twentytwenty")})}})(jQuery);